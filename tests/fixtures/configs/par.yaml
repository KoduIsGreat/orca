apiVersion: '1.0'

version: '0.1'
name: 'nested job test'
dependencies:
  - os
var:
  afile: 'a.py'

job:
  - fork:
     # first group of tasks
     -  - task: start1
          python: |
            print('staring start1')
        - task: start4
          python: |
            print('starting start4')
     # second group      
     -  - task: start2
          python: |
            print('starting start2')
     # third group     
     -  - task: start3
          python: |
            print('starting start3')

  # start3, start4, and start51 will join here          
  - task: start5
    python: |
      print('starting final')
     
