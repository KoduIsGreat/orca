# Orca Store

As orca is working on the graph of tasks, it persists the results in a special folder structure.
This folder is stored in the users dir in an `.orca` directory.
Below shows the general folder structure of an orca store.
```
users/billy/
    .orca/
        my_store/
            workflow1/
                _snapshots/
                task_1/
                    data.js.gz
                    metadata.js.gz
                task_2/
                    data.js.gz
                    metadata.js.gz
                task_3/
                    data.js.gz
                    metadata.js.gz
            workflow2/
```

To connect to the store users can use the python api to directly connect to the store and retrieve the data.
See example below.
```python
import orca.store as orca
# list the stores
orca.list_stores()
# ['development'] is generated by default when you execute orca on a yaml dir.
# set the default base path to the orca store, by default this is users/username/.orca
# most users should not change this.
path = "C:\\alternate\\orca\\path"
orca.set_path(path)
# prints the current base path
orca.get_path()

# create a store called test can also be used to connect to an existing store. see blow
my_store = orca.store('test')
# deletes ALL stores THIS IS NOT UNDOABLE
orca.delete_stores()

# delete the store we just created
orca.delete_store('test')

development = orca.store('development')

# lists all the workflows that have been ran against this store
development.list_workflows()
# ['workflow_1', 'workflow_2']

# remove a specific workflow from the store
development.delete_workflow('workflow_2')

# connect to workflow_1, task_3's data
workflow_1 = development.workflow('workflow_1')
task_3 = workflow_1.task('task_3')
data = task_3.data # data as JSON

# create an archived snapshot of the worfklows data, for later analysis
workflow_1.create_snapshot()

#list snapshots
workflow_1.list_snapshots()
# ['1556550391203806']

# retrieve a snapshots data
task_2_snapshot = workflow_1.task('task_2',snapshot='1556550391203806')
snap_data =task_2_snapshot.data # data is as it was when the snapshot was created

# delete a snapshot
workflow_1.delete_snapshot('1556550391203806')
```